# Cross-compilation configuration for bvr
#
# The default cross images don't include GStreamer, so we use a custom
# Dockerfile that adds the required packages.

[target.aarch64-unknown-linux-gnu]
# Use custom image with GStreamer development libraries
image = "ghcr.io/cross-rs/aarch64-unknown-linux-gnu:main"
pre-build = [
    "dpkg --add-architecture arm64",
    "apt-get update",
    "apt-get install -y libgstreamer1.0-dev:arm64 libgstreamer-plugins-base1.0-dev:arm64 libglib2.0-dev:arm64"
]

[build.env]
passthrough = [
    "RUST_BACKTRACE",
    "RUST_LOG",
]


